<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professionel SEO IndholdsGenerator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v={{ cache_bust }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ Professionel SEO IndholdsGenerator</h1>
            <div class="profile-status">
                <span id="current-profile">Ingen profil valgt</span>
                <button id="settings-btn" class="btn-secondary">âš™ï¸ Indstillinger</button>
            </div>
        </header>

        <div class="tabs">
            <button class="tab-btn active" data-tab="generator">ğŸ“ SEO Generator</button>
                            <button class="tab-btn" data-tab="preview">ğŸ“š Gemte Tekster</button>
            <button class="tab-btn" data-tab="profiles">ğŸ‘¤ Profiler</button>
            <button class="tab-btn" data-tab="translator">ğŸŒ OversÃ¦tter</button>
        </div>

        <!-- SEO Generator Tab -->
        <div id="generator" class="tab-content active">
            <div class="generator-layout">
                <div class="left-panel" id="left-panel">
                    <!-- Keywords Section -->
                    <div class="form-group">
                        <label for="keywords">NÃ¸gleord (pÃ¥krÃ¦vet):</label>
                        <input type="text" id="keywords" placeholder="Indtast primÃ¦re nÃ¸gleord..." required>
                    </div>

                    <!-- Secondary Keywords -->
                    <div class="form-group">
                        <label for="secondary-keywords">SekundÃ¦re nÃ¸gleord:</label>
                        <input type="text" id="secondary-keywords" placeholder="Kommaseparerede nÃ¸gleord...">
                    </div>

                    <!-- LSI Keywords -->
                    <div class="form-group">
                        <label for="lsi-keywords">LSI NÃ¸gleord:</label>
                        <input type="text" id="lsi-keywords" placeholder="Relaterede nÃ¸gleord...">
                    </div>

                    <!-- Content Settings -->
                    <div class="form-group">
                        <label for="target-audience">MÃ¥lgruppe:</label>
                        <select id="target-audience">
                            <option value="Alle">Alle</option>
                            <option value="B2B">B2B</option>
                            <option value="B2C">B2C</option>
                            <option value="HÃ¥ndvÃ¦rkere">HÃ¥ndvÃ¦rkere</option>
                            <option value="Forbrugere">Forbrugere</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="content-purpose">FormÃ¥l:</label>
                        <select id="content-purpose">
                            <option value="Informativ">Informativ</option>
                            <option value="Salgsorienteret">Salgsorienteret</option>
                            <option value="Vejledning">Vejledning</option>
                            <option value="Sammenligning">Sammenligning</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="content-type">Indholdstype:</label>
                        <select id="content-type">
                            <option value="Produktbeskrivelse">Produktbeskrivelse</option>
                            <option value="Features & Benefits">Features & Benefits</option>
                            <option value="How-to guide">How-to guide</option>
                            <option value="Comparison">Sammenligning</option>
                            <option value="Expert analysis">Ekspertanalyse</option>
                        </select>
                    </div>

                    <!-- Custom Instructions -->
                    <div class="form-group">
                        <label for="custom-instructions">Generelle Instruktioner:</label>
                        <textarea id="custom-instructions" rows="3" placeholder="Indtast specifikke instruktioner til AI'en..."></textarea>
                    </div>

                    <!-- Text Length -->
                    <div class="form-group">
                        <label for="text-length">Ã˜nsket tekstlÃ¦ngde (ord):</label>
                        <input type="number" id="text-length" min="100" max="5000" value="500">
                    </div>

                    <!-- SEO Features -->
                    <div class="form-group">
                        <label>SEO Features:</label>
                        <div class="checkbox-group">
                                                            <label><input type="checkbox" id="include-meta"> Meta beskrivelse</label>
                                <label><input type="checkbox" id="include-keywords"> Keyword integration</label>
                                <label><input type="checkbox" id="include-faq"> FAQ sektion</label>
                                <label><input type="checkbox" id="include-cta"> Call-to-action</label>
                                <label><input type="checkbox" id="include-schema"> Schema markup</label>
                                <label><input type="checkbox" id="include-internal-links"> Interne links</label>
                        </div>
                    </div>

                    <!-- Product Selection -->
                    <div class="form-group">
                        <label>Inkluder Produkter:</label>
                        <div id="product-selection" class="product-list">
                            <!-- Products will be populated here -->
                        </div>
                    </div>

                    <!-- Generate Buttons -->
                    <div class="button-group">
                        <button id="generate-btn" type="button" class="generate-btn">
                            <span class="btn-text">Generer SEO Tekst</span>
                            <span class="btn-loading">Genererer...</span>
                        </button>
                        
                        <!-- Batch Generate Section -->
                        <div class="batch-generate-section">
                            <div class="batch-header">
                                <h3>ğŸ“¦ Generer flere variationer</h3>
                                <p>Lav flere forskellige tekster pÃ¥ en gang med automatisk variation</p>
                            </div>
                            <div class="batch-controls">
                                <label for="batch-count">Antal tekster:</label>
                                <select id="batch-count">
                                    <option value="2">2 variationer</option>
                                    <option value="3" selected>3 variationer</option>
                                    <option value="4">4 variationer</option>
                                    <option value="5">5 variationer</option>
                                </select>
                                <button id="batch-generate-btn" type="button" class="batch-generate-btn">
                                    <span class="btn-text">ğŸš€ Generer Batch</span>
                                    <span class="btn-loading">Genererer variationer...</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="splitter" id="splitter" title="TrÃ¦k for at Ã¦ndre stÃ¸rrelse pÃ¥ panelerne. Dobbeltklik for at nulstille til 50/50."></div>

                <div class="right-panel" id="right-panel">
                    <!-- Preview Section (moved from Preview tab) -->
                    <div class="preview-section">
                        <div class="preview-header">
                            <h3>ğŸŒ ForhÃ¥ndsvisning</h3>
                            <div class="preview-controls">
                                <select id="preview-selector">
                                    <option value="">VÃ¦lg tekst at redigere...</option>
                                </select>
                                <button id="clear-preview-btn" class="btn-small">ğŸ—‘ï¸ Ryd Liste</button>
                                <button id="copy-text-btn" class="btn-small">ğŸ“‹ Kopier Tekst</button>
                                <button id="copy-html-btn" class="btn-small">ğŸ“‹ Kopier HTML</button>
                                <button id="save-text-btn" class="btn-small">ğŸ’¾ Gem Tekst</button>
                                <button id="insert-image-btn" class="btn-small">ğŸ–¼ï¸ VÃ¦lg Hovedbillede</button>
                            </div>
                            <div id="featured-image-indicator" class="featured-image-indicator" style="display: none;">
                                <span>ğŸ“¸ Hovedbillede valgt: <span id="featured-image-title"></span></span>
                                <button id="clear-featured-image-btn" class="btn-tiny">âŒ</button>
                            </div>
                        </div>

                        <!-- Website Preview with Editing -->
                        <div class="preview-area">
                            <!-- Editing Toolbar -->
                            <div class="editing-toolbar">
                                <!-- Text Formatting Group -->
                                <div class="toolbar-group">
                                    <label>Stil:</label>
                                    <select class="toolbar-select" id="heading-select" title="Overskrift">
                                        <option value="">Normal tekst</option>
                                        <option value="h1">Overskrift 1</option>
                                        <option value="h2">Overskrift 2</option>
                                        <option value="h3">Overskrift 3</option>
                                        <option value="h4">Overskrift 4</option>
                                    </select>
                                </div>
                                
                                <!-- Font Size Group -->
                                <div class="toolbar-group">
                                    <label>StÃ¸rrelse:</label>
                                    <select class="toolbar-select" id="font-size-select" title="SkriftstÃ¸rrelse">
                                        <option value="8">8pt</option>
                                        <option value="9">9pt</option>
                                        <option value="10">10pt</option>
                                        <option value="11">11pt</option>
                                        <option value="12" selected>12pt</option>
                                        <option value="14">14pt</option>
                                        <option value="16">16pt</option>
                                        <option value="18">18pt</option>
                                        <option value="20">20pt</option>
                                        <option value="22">22pt</option>
                                        <option value="24">24pt</option>
                                        <option value="28">28pt</option>
                                        <option value="36">36pt</option>
                                    </select>
                                </div>
                                
                                <!-- Undo/Redo Group -->
                                <div class="toolbar-group">
                                    <button type="button" id="undo-btn" class="toolbar-btn" title="Fortryd (Ctrl+Z)">
                                        â†º Fortryd
                                    </button>
                                    <button type="button" id="redo-btn" class="toolbar-btn" title="Gentag (Ctrl+Y)">
                                        â†» Gentag
                                    </button>
                                </div>
                                
                                                        <!-- Undo/Redo Group -->
                        <div class="toolbar-group">
                            <button type="button" id="undo-btn-2" class="toolbar-btn" title="Fortryd (Ctrl+Z)">
                                â†º Fortryd
                            </button>
                            <button type="button" id="redo-btn-2" class="toolbar-btn" title="Gentag (Ctrl+Y)">
                                â†» Gentag
                            </button>
                        </div>
                        
                        <!-- Basic Formatting Group -->
                        <div class="toolbar-group">
                            <button type="button" class="toolbar-btn" data-command="bold" title="Fed tekst (Ctrl+B)">
                                <strong>B</strong>
                            </button>
                            <button type="button" class="toolbar-btn" data-command="italic" title="Kursiv (Ctrl+I)">
                                <em>I</em>
                            </button>
                            <button type="button" class="toolbar-btn" data-command="underline" title="Understreget (Ctrl+U)">
                                <u>U</u>
                            </button>
                        </div>
                                
                                <!-- Lists Group -->
                                <div class="toolbar-group">
                                    <button type="button" class="toolbar-btn" data-command="insertUnorderedList" title="Punktliste">
                                        â€¢ Liste
                                    </button>
                                    <button type="button" class="toolbar-btn" data-command="insertOrderedList" title="Nummereret liste">
                                        1. Liste
                                    </button>
                                </div>
                                
                                <!-- Alignment Group -->
                                <div class="toolbar-group">
                                    <button type="button" class="toolbar-btn" data-command="justifyLeft" title="Venstrejuster">
                                        â¬…
                                    </button>
                                    <button type="button" class="toolbar-btn" data-command="justifyCenter" title="Centrer">
                                        â†”
                                    </button>
                                    <button type="button" class="toolbar-btn" data-command="justifyRight" title="HÃ¸jrejuster">
                                        â¡
                                    </button>
                                    <button type="button" class="toolbar-btn" data-command="justifyFull" title="Blokjuster">
                                        =
                                    </button>
                                </div>
                                
                                <!-- Tools Group -->
                                <div class="toolbar-group">
                                    <button type="button" class="toolbar-btn" data-command="createLink" title="IndsÃ¦t link">
                                        ğŸ”— Link
                                    </button>
                                    <button type="button" class="toolbar-btn" data-command="removeFormat" title="Fjern formatering">
                                        ğŸ§¹ Ryd
                                    </button>
                                </div>
                            </div>
                            
                            <!-- AI Editing Toolbar -->
                            <div class="ai-toolbar">
                                <div class="ai-toolbar-group">
                                    <label>AI Redigering:</label>
                                    <small class="ai-help-text">ğŸ’¡ Marker tekst fÃ¸rst, derefter klik pÃ¥ en funktion</small>
                                    <button type="button" class="ai-btn" data-command="Forkort" title="Bed AI om at forkorte teksten">
                                        Forkort
                                    </button>
                                    <button type="button" class="ai-btn" data-command="ForlÃ¦ng" title="Bed AI om at forlÃ¦nge teksten">
                                        ForlÃ¦ng
                                    </button>
                                    <button type="button" class="ai-btn" data-command="GÃ¸r mere sÃ¦lgende" title="Bed AI om at gÃ¸re teksten mere sÃ¦lgende">
                                        GÃ¸r mere sÃ¦lgende
                                    </button>
                                    <button type="button" class="ai-btn" data-command="Ny vinkel" title="Bed AI om at give teksten en ny vinkel">
                                        Ny vinkel
                                    </button>
                                    <button type="button" class="ai-btn" data-command="Mere simpel" title="Bed AI om at gÃ¸re teksten mere simpel">
                                        Mere simpel
                                    </button>
                                </div>
                                
                                <div class="ai-toolbar-group">
                                    <input type="text" id="custom-ai-input" placeholder="Skriv egen instruktion..." class="ai-input">
                                    <button type="button" id="custom-ai-btn" class="ai-btn" title="Send egen instruktion til AI">
                                        UdfÃ¸r
                                    </button>
                                </div>
                            </div>
                            
                            <div id="website-preview" class="website-preview">
                                <div class="website-preview-content">
                                    <div id="preview-title" class="preview-title" contenteditable="true" placeholder="Klik for at redigere titel..."></div>
                                    <div id="preview-content" class="preview-content" contenteditable="true" placeholder="Genereret indhold vises her..."></div>
                                </div>
                            </div>
                        </div>

                        <!-- Meta Information -->
                        <div class="meta-section">
                            <div class="form-group">
                                <label for="meta-title">Meta Titel:</label>
                                <input type="text" id="meta-title" placeholder="SEO titel...">
                            </div>
                            <div class="form-group">
                                <label for="meta-description">Meta Beskrivelse:</label>
                                <textarea id="meta-description" rows="3" placeholder="Meta beskrivelse..."></textarea>
                            </div>
                        </div>

                        <div class="preview-actions">
                            <button id="toggle-edit-mode-btn" class="btn-secondary">âœï¸ Rediger</button>
                            <button id="save-edited-text-btn" class="btn-primary" style="display: none;">ğŸ’¾ Gem Redigeret Tekst</button>
                            <button id="copy-preview-html-btn" class="btn-secondary">ğŸ“‹ Kopier HTML</button>
                            <button id="upload-to-shopify-btn" class="btn-shopify">ğŸ›’ Upload til Shopify</button>
                        </div>
                    </div>

                    <!-- Revision Section -->
                    <div class="revision-section">
                        <h4>ğŸ”§ Revider Tekst</h4>
                        <div class="revision-controls">
                            <input type="text" id="revision-instruction" placeholder="Beskriv Ã¸nskede Ã¦ndringer...">
                            <button id="revise-btn" class="btn-secondary">Revider</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Saved Texts Tab -->
        <div id="preview" class="tab-content">
            <div class="generator-layout">
                <div class="left-panel" id="texts-left-panel">
                    <!-- Search Controls at Top -->
                    <div class="saved-texts-header">
                        <h3>ğŸ“š Gemte Tekster</h3>
                        <div class="preview-stats">
                            <span id="total-texts-count">0 tekster</span>
                            <span id="filtered-texts-count"></span>
                        </div>
                    </div>
                    
                    <div class="search-controls">
                        <input type="text" id="text-search" placeholder="ğŸ” SÃ¸g pÃ¥ navn...">
                        <input type="date" id="date-from" placeholder="Fra dato">
                        <input type="date" id="date-to" placeholder="Til dato">
                        <select id="sort-order">
                            <option value="newest">Nyeste fÃ¸rst</option>
                            <option value="oldest">Ã†ldste fÃ¸rst</option>
                            <option value="alphabetical">Alfabetisk</option>
                        </select>
                        <button id="refresh-texts-btn" class="btn-small">ğŸ”„ Opdater</button>
                        <button id="clear-filters-btn" class="btn-small">ğŸ§¹ Ryd Filtre</button>
                    </div>

                    <div id="texts-list-container">
                        <!-- Saved texts will be populated here -->
                    </div>
                </div>

                <div class="splitter" id="texts-splitter" title="TrÃ¦k for at Ã¦ndre stÃ¸rrelse pÃ¥ panelerne. Dobbeltklik for at nulstille til 50/50."></div>

                <div class="right-panel" id="texts-right-panel">
                    <div class="text-preview-header">
                        <h4>ğŸ“„ ForhÃ¥ndsvisning</h4>
                    </div>
                    <div id="text-preview-content">
                        <div class="placeholder-message">
                            <h3>ğŸ‘ˆ VÃ¦lg en tekst</h3>
                            <p>Klik pÃ¥ en tekst i listen til venstre for at se indholdet her.</p>
                            <ul>
                                <li>Se fuld tekst med formatering</li>
                                <li>Rediger direkte fra forhÃ¥ndsvisning</li>
                                <li>Kopier indhold til udklipsholder</li>
                            </ul>
                        </div>
                    </div>
                    <div class="text-actions" style="display: none;">
                        <button id="edit-selected-text-btn" class="btn-primary">âœï¸ Rediger</button>
                        <button id="copy-selected-text-btn" class="btn-secondary">ğŸ“‹ Kopier</button>
                        <button id="delete-selected-text-btn" class="btn-danger">ğŸ—‘ï¸ Slet</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profiles Tab -->
        <div id="profiles" class="tab-content">
            <!-- Sub-tabs for Profiles section -->
            <div class="profile-tabs">
                <button class="profile-tab-btn active" data-profile-tab="profile-details">ğŸ‘¤ Profil Detaljer</button>
                <button class="profile-tab-btn" data-profile-tab="products">ğŸ“¦ Produkter</button>
            </div>

            <!-- Profile Details Tab -->
            <div id="profile-details-tab" class="profile-tab-content active">
                <div class="profiles-layout">
                    <div class="profiles-sidebar">
                        <h3>ğŸ‘¤ Profiler</h3>
                        <div class="profile-actions">
                            <button id="add-profile-btn" class="btn-primary">â• Ny Profil</button>
                            <button id="import-profiles-btn" class="btn-secondary">ğŸ“¥ Importer</button>
                            <button id="export-profiles-btn" class="btn-secondary">ğŸ“¤ Eksporter</button>
                        </div>
                        <div id="profiles-list" class="profiles-list">
                            <!-- Profiles will be populated here -->
                        </div>
                    </div>
                    <div class="profile-details">
                        <h3>Profil Detaljer</h3>
                        <div id="profile-form">
                        <div class="form-group">
                            <label for="profile-name">Profilnavn:</label>
                            <input type="text" id="profile-name" placeholder="Indtast profilnavn...">
                        </div>
                        <div class="form-group">
                            <label for="profile-description">Beskrivelse:</label>
                            <textarea id="profile-description" rows="4" placeholder="Beskriv virksomheden..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="profile-values">VÃ¦rdier:</label>
                            <input type="text" id="profile-values" placeholder="Virksomhedens vÃ¦rdier...">
                        </div>
                        <div class="form-group">
                            <label for="profile-tone">Tone of Voice:</label>
                            <textarea id="profile-tone" rows="3" placeholder="Beskrivelse af Ã¸nsket tone..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="profile-api-key">OpenAI API NÃ¸gle:</label>
                            <input type="password" id="profile-api-key" placeholder="Indtast OpenAI API nÃ¸gle for denne profil...">
                            <small class="text-muted">API nÃ¸glen bruges til at generere SEO indhold for denne profil. Hver profil kan have sin egen API nÃ¸gle.</small>
                        </div>
                        <div class="form-group">
                            <label for="blocked-words">Blokerede ord/fraser (IKKE mÃ¥ forekomme i SEO-teksterne):</label>
                            <textarea id="blocked-words" rows="4" placeholder="Indtast ord eller fraser, der ikke mÃ¥ bruges i teksterne (et ord/frase per linje)..."></textarea>
                            <small class="text-muted">Indtast et ord eller en frase per linje. Disse vil blive undgÃ¥et i alle genererede tekster.</small>
                        </div>
                        <div class="form-group">
                            <label for="profile-url">Hjemmeside:</label>
                            <input type="url" id="profile-url" placeholder="https://...">
                        </div>
                        <div class="form-group">
                            <label for="profile-internal-links">Interne Links:</label>
                            <textarea id="profile-internal-links" rows="4" placeholder="Vigtige links, Ã©t pr. linje..."></textarea>
                        </div>
                        
                        <!-- Shopify Integration Section -->
                        <div class="shopify-section">
                            <h4>ğŸ›’ Shopify Integration</h4>
                            <div class="form-group">
                                <label for="profile-shopify-store-url">Shopify Butik URL:</label>
                                <input type="text" id="profile-shopify-store-url" placeholder="din-butik.myshopify.com">
                                <small class="text-muted">Indtast kun butiksnavn uden https:// (f.eks. min-butik.myshopify.com)</small>
                            </div>
                            <div class="form-group">
                                <label for="profile-shopify-api-token">Shopify API Token:</label>
                                <input type="password" id="profile-shopify-api-token" placeholder="Indtast Shopify API token...">
                                <small class="text-muted">Private app API token fra Shopify admin</small>
                            </div>
                            <div class="form-group">
                                <label for="profile-shopify-api-version">Shopify API Version:</label>
                                <select id="profile-shopify-api-version">
                                    <option value="2023-10">2023-10</option>
                                    <option value="2024-01">2024-01</option>
                                    <option value="2024-04">2024-04</option>
                                    <option value="2024-07">2024-07</option>
                                </select>
                            </div>
                            <div class="shopify-actions">
                                <button id="test-shopify-connection-btn" class="btn-secondary">ğŸ”— Test Shopify Forbindelse</button>
                                <button id="browse-shopify-images-btn" class="btn-secondary">ğŸ–¼ï¸ Gennemse Shopify Billeder</button>
                            </div>
                        </div>
                        
                        <div class="profile-actions">
                            <button id="save-profile-btn" class="btn-primary">ğŸ’¾ Gem Profil</button>
                            <button id="delete-profile-btn" class="btn-danger">ğŸ—‘ï¸ Slet Profil</button>
                        </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Products Tab -->
            <div id="products-profile-tab" class="profile-tab-content">
                <div class="products-header">
                    <h3>ğŸ“¦ Produkter for <span id="current-profile-name">Valgt Profil</span></h3>
                    <div class="product-actions">
                        <button id="add-product-btn" class="btn-primary">â• TilfÃ¸j Produkt</button>
                        <button id="fetch-urls-btn" class="btn-secondary">ğŸŒ Hent fra URL'er</button>
                    </div>
                </div>
                <div id="products-list" class="products-grid">
                    <!-- Products will be populated here -->
                </div>
                <div class="products-info">
                    <p class="text-muted">Produkter er knyttet til den valgte profil. VÃ¦lg en profil i venstre side for at se og administrere produkter.</p>
                </div>
            </div>
        </div>

        <!-- Translator Tab -->
        <div id="translator" class="tab-content">
            <div class="translator-layout">
                <div class="translator-header">
                    <h3>ğŸŒ OversÃ¦tter</h3>
                    <p>Upload Shopify CSV-filer og oversÃ¦t indhold til forskellige sprog</p>
                </div>
                <div class="translator-content">
                    <div class="upload-section">
                        <input type="file" id="csv-upload" accept=".csv" multiple style="display: none;">
                        <div id="csv-drop-zone" class="csv-drop-zone">
                            <div class="drop-zone-content">
                                <div class="drop-zone-icon">ğŸ“</div>
                                <div class="drop-zone-text">
                                    <strong>TrÃ¦k og slip dine CSV-filer her</strong>
                                    <p>eller</p>
                                    <button id="upload-csv-btn" class="btn-primary">ğŸ“ VÃ¦lg CSV-filer</button>
                                </div>
                                <div class="drop-zone-info">
                                    <small>UnderstÃ¸ttede formater: .csv (flere filer tilladt)</small>
                                </div>
                            </div>
                            <div id="uploaded-files-list" class="uploaded-files-list" style="display: none;">
                                <!-- Uploaded files will be shown here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- File Management Section -->
                    <div id="file-management-section" class="file-management-section" style="display: none;">
                        <div class="file-management-header">
                            <h4>ğŸ“‹ Fil Oversigt</h4>
                            <div class="file-stats">
                                <span id="total-files-count">0 filer</span> â€¢ 
                                <span id="total-rows-count">0 rÃ¦kker</span> â€¢ 
                                <span id="untranslated-rows-count">0 mangler oversÃ¦ttelse</span>
                            </div>
                        </div>
                        <div class="file-actions">
                            <button id="view-files-btn" class="btn-secondary">ğŸ‘ï¸ Se Filer</button>
                            <button id="filter-untranslated-btn" class="btn-primary">ğŸ” Filtrer Uoversatte</button>
                            <button id="export-untranslated-btn" class="btn-shopify" disabled>ğŸ“¤ Eksporter Uoversatte</button>
                        </div>
                    </div>

                    <!-- CSV Preview Modal -->
                    <div id="csv-preview-modal" class="modal">
                        <div class="modal-content large-modal">
                            <div class="modal-header">
                                <h3>ğŸ“‹ CSV Fil Oversigt</h3>
                                <span class="close">&times;</span>
                            </div>
                            <div class="modal-body">
                                <div id="csv-files-tabs" class="csv-files-tabs">
                                    <!-- File tabs will be generated here -->
                                </div>
                                <div id="csv-preview-content" class="csv-preview-content">
                                    <!-- CSV content will be shown here -->
                                </div>
                            </div>
                            <div class="modal-actions">
                                <button id="close-preview-btn" class="btn-secondary">Luk</button>
                            </div>
                        </div>
                    </div>

                    <div class="translation-controls">
                        <div class="form-group">
                            <label>Sprog til oversÃ¦ttelse:</label>
                            <div class="language-selection">
                                <label><input type="checkbox" value="en"> Engelsk</label>
                                <label><input type="checkbox" value="de"> Tysk</label>
                                <label><input type="checkbox" value="fr"> Fransk</label>
                                <label><input type="checkbox" value="es"> Spansk</label>
                                <label><input type="checkbox" value="it"> Italiensk</label>
                                <label><input type="checkbox" value="sv"> Svensk</label>
                                <label><input type="checkbox" value="no"> Norsk</label>
                            </div>
                        </div>
                        <button id="start-translation-btn" class="btn-primary" disabled>ğŸš€ Start OversÃ¦ttelse</button>
                        <button id="download-translated-btn" class="btn-secondary" disabled>ğŸ’¾ Download Oversat CSV</button>
                    </div>
                    <div class="translation-progress">
                        <div id="translation-progress-bar" class="progress-bar" style="display: none;">
                            <div class="progress-fill"></div>
                        </div>
                        <div id="translation-status"></div>
                    </div>
                </div>

                <!-- Quick Text Translator -->
                <div class="quick-translator-section">
                    <div class="quick-translator-header">
                        <h4>âš¡ Hurtig TekstoversÃ¦tter</h4>
                        <p>OversÃ¦t tekst direkte uden CSV-fil</p>
                    </div>
                    
                    <!-- Controls Section -->
                    <div class="quick-translate-controls">
                        <div class="language-select-group">
                            <label for="target-language-select">OversÃ¦t til:</label>
                            <select id="target-language-select">
                                <option value="en">ğŸ‡¬ğŸ‡§ Engelsk</option>
                                <option value="de">ğŸ‡©ğŸ‡ª Tysk</option>
                                <option value="fr">ğŸ‡«ğŸ‡· Fransk</option>
                                <option value="es">ğŸ‡ªğŸ‡¸ Spansk</option>
                                <option value="it">ğŸ‡®ğŸ‡¹ Italiensk</option>
                                <option value="sv">ğŸ‡¸ğŸ‡ª Svensk</option>
                                <option value="no">ğŸ‡³ğŸ‡´ Norsk</option>
                                <option value="nl">ğŸ‡³ğŸ‡± Hollandsk</option>
                                <option value="fi">ğŸ‡«ğŸ‡® Finsk</option>
                                <option value="pl">ğŸ‡µğŸ‡± Polsk</option>
                                <option value="pt">ğŸ‡µğŸ‡¹ Portugisisk</option>
                                <option value="ru">ğŸ‡·ğŸ‡º Russisk</option>
                            </select>
                        </div>
                        <button id="quick-translate-btn" class="btn-primary" disabled>ğŸš€ OversÃ¦t</button>
                        <button id="clear-translation-btn" class="btn-secondary">ğŸ—‘ï¸ Ryd</button>
                    </div>

                    <!-- Side-by-side Translation Area -->
                    <div class="translation-panels">
                        <!-- Left Panel - Input -->
                        <div class="translation-panel input-panel">
                            <div class="panel-header">
                                <h5>ğŸ“ Tekst der skal oversÃ¦ttes</h5>
                                <small id="input-char-count">0 tegn</small>
                            </div>
                            <textarea id="quick-translate-input" placeholder="IndsÃ¦t din tekst her..." rows="12"></textarea>
                        </div>

                        <!-- Right Panel - Output -->
                        <div class="translation-panel output-panel">
                            <div class="panel-header">
                                <h5>ğŸŒ OversÃ¦ttelse</h5>
                                <div class="output-actions">
                                    <small id="output-char-count">0 tegn</small>
                                    <button id="copy-translation-btn" class="btn-tiny">ğŸ“‹ Kopier</button>
                                </div>
                            </div>
                            <textarea id="quick-translate-output" readonly rows="12" placeholder="OversÃ¦ttelsen vises her..."></textarea>
                        </div>
                    </div>

                    <!-- Progress Section -->
                    <div id="quick-translate-progress" class="quick-translate-progress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <div class="progress-text">OversÃ¦tter...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>âš™ï¸ Indstillinger</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3><i class="fas fa-info-circle"></i> Information</h3>
                    <p>API nÃ¸gler er nu knyttet til individuelle profiler. GÃ¥ til <strong>Profiler</strong> fanen for at konfigurere API nÃ¸gler for hver profil.</p>
                    <p>Dette giver dig mulighed for at bruge forskellige API nÃ¸gler til forskellige profiler eller kunder.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div id="product-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="product-modal-title">â• TilfÃ¸j Produkt</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="product-form">
                    <div class="form-group">
                        <label for="product-modal-name">Produktnavn: *</label>
                        <input type="text" id="product-modal-name" placeholder="Indtast produktnavn..." required>
                    </div>
                    <div class="form-group">
                        <label for="product-modal-url">Produkt URL:</label>
                        <input type="url" id="product-modal-url" placeholder="https://...">
                        <small class="text-muted">Valgfrit - Link til produktsiden</small>
                    </div>
                    <div class="form-group">
                        <label for="product-modal-description">Produktbeskrivelse:</label>
                        <textarea id="product-modal-description" rows="4" placeholder="Beskriv produktet..."></textarea>
                        <small class="text-muted">Valgfrit - Bruges til SEO-generering</small>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="save-product-btn" class="btn-primary">ğŸ’¾ Gem Produkt</button>
                <button id="cancel-product-btn" class="btn-secondary">Annuller</button>
            </div>
        </div>
    </div>

    <!-- CSV Preview Modal -->
    <div id="csv-preview-modal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3><i class="fas fa-table"></i> CSV Filer Oversigt</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div id="csv-files-tabs" class="csv-files-tabs">
                    <!-- Tabs will be populated by JavaScript -->
                </div>
                <div id="csv-preview-content" class="csv-preview-content">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
            <div class="modal-actions">
                <button id="close-preview-btn" class="btn-secondary">Luk</button>
            </div>
        </div>
    </div>

    <!-- Image Selection Modal -->
    <div id="image-modal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>ğŸ–¼ï¸ VÃ¦lg Billede</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="image-selection-tabs">
                    <button class="image-tab-btn active" data-tab="upload">ğŸ“ Upload Billede</button>
                    <button class="image-tab-btn" data-tab="shopify">ğŸ›’ Shopify Billeder</button>
                </div>
                
                <!-- Upload Tab -->
                <div id="upload-tab" class="image-tab-content active">
                    <div class="upload-section">
                        <input type="file" id="image-upload" accept="image/*" style="display: none;">
                        <button id="upload-image-btn" class="btn-primary">ğŸ“ VÃ¦lg Billede</button>
                        <div id="upload-preview" class="upload-preview" style="display: none;">
                            <img id="upload-preview-img" src="" alt="Preview">
                            <div class="upload-info">
                                <p id="upload-filename"></p>
                                <p id="upload-size"></p>
                            </div>
                        </div>
                    </div>
                    <div class="image-settings">
                        <div class="form-group">
                            <label for="image-alt-text">Alt tekst:</label>
                            <input type="text" id="image-alt-text" placeholder="Beskrivelse af billedet...">
                        </div>
                        <div class="form-group">
                            <label for="image-width">Bredde (px):</label>
                            <input type="number" id="image-width" placeholder="Auto">
                        </div>
                        <div class="form-group">
                            <label for="image-height">HÃ¸jde (px):</label>
                            <input type="number" id="image-height" placeholder="Auto">
                        </div>
                    </div>
                </div>
                
                <!-- Shopify Tab -->
                <div id="shopify-tab" class="image-tab-content">
                    <div class="shopify-images-header">
                        <div class="search-section">
                            <input type="text" id="shopify-image-search" placeholder="SÃ¸g efter produktnavn eller alt-tekst...">
                            <button id="refresh-shopify-images-btn" class="btn-secondary">ğŸ”„ Opdater</button>
                        </div>
                    </div>
                    <div id="shopify-images-grid" class="images-grid">
                        <p class="placeholder">IndlÃ¦s Shopify billeder...</p>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button id="insert-selected-image-btn" class="btn-primary" disabled>IndsÃ¦t Billede</button>
                    <button id="cancel-image-selection-btn" class="btn-secondary">Annuller</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Genererer indhold...</p>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/app.js') }}?v={{ cache_bust }}"></script>

    <!-- Batch Results Section -->
    <div id="batch-results" class="batch-results">
        <h3>ğŸ“‹ Genererede Variationer</h3>
        <div id="batch-grid" class="batch-grid">
            <!-- Batch items will be dynamically inserted here -->
        </div>
        <div class="batch-actions">
            <button id="save-selected-btn" class="save-selected-btn" disabled>
                ğŸ’¾ Gem Valgte Tekster
            </button>
            <button id="clear-batch-btn" class="clear-batch-btn">
                ğŸ—‘ï¸ Ryd Batch
            </button>
        </div>
    </div>

</body>
</html> 